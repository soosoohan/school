<!DOCTYPE html>
<html lang="ko">
<head>
<script>
  (function() {
    const hostname = window.location.hostname;
    const isLocal = hostname === 'localhost' || 
                    hostname === '127.0.0.1' || 
                    hostname.includes('192.168.') || 
                    window.location.protocol === 'file:';

    if (!isLocal) {
      // ìŠ¤í¬ë¦½íŠ¸ ë™ì  ë¡œë“œ
      const script = document.createElement('script');
      script.async = true;
      script.src = 'https://www.googletagmanager.com/gtag/js?id=G-4YZHC1G9FN';
      document.head.appendChild(script);

      // gtag ì´ˆê¸°í™”
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      window.gtag = gtag; // ì „ì—­ ìŠ¤ì½”í”„ í™•ë³´
      gtag('js', new Date());
      gtag('config', 'G-4YZHC1G9FN');

      console.log("GA4 í™œì„±í™”: ìš´ìš© í™˜ê²½");
    } else {
      console.log("GA4 ë¹„í™œì„±í™”: ë¡œì»¬/ê°œë°œ í™˜ê²½");
      // ë¡œì»¬ì—ì„œ gtag í˜¸ì¶œ ì‹œ ì—ëŸ¬ ë°©ì§€ë¥¼ ìœ„í•œ ë¹ˆ í•¨ìˆ˜ ì •ì˜
      window.gtag = function() { console.log("Local gtag call:", arguments); };
    }
  })();
</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ëª¨ìŒìŠ¤ì¿¨ Moeum School - ì´ˆë“±í•™êµ êµìœ¡ê³¼ì • í•™ìŠµìš© í€´ì¦ˆ | Soosooland</title>

<!-- SEO Meta Tags -->
<meta name="description" content="ì´ˆë“±í•™ìƒ í•™ìŠµ í€´ì¦ˆ. Korean language quiz based on elementary school curriculum for grades 1-6.">
<meta name="keywords" content="ì´ˆë“±í•™êµ, í•œê¸€ í€´ì¦ˆ, í•™ë…„ë³„ í•™ìŠµ, elementary school, Korean quiz, curriculum, educational game">
<meta name="author" content="Soosooland">

<!-- Open Graph (í˜ì´ìŠ¤ë¶ ì¹´ì¹´ì˜¤í†¡) -->
<meta property="og:title" content="ëª¨ìŒìŠ¤ì¿¨ - ì´ˆë“±í•™ìƒ í•™ìŠµ í€´ì¦ˆ | Soosooland">
<meta property="og:description" content="ì´ˆë“±í•™êµ êµìœ¡ê³¼ì • í•™ìŠµ í€´ì¦ˆ. Korean language quiz based on elementary school curriculum for grades 1-6.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://soosooland.com/school/">
<meta property="og:image" content="https://soosooland.com/images/moeum.jpeg">
<meta property="og:site_name" content="Soosooland">

<!-- íŠ¸ìœ„í„° -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://soosooland.com/images/moeum.jpeg">
<meta name="twitter:title" content="ëª¨ìŒìŠ¤ì¿¨ - ì´ˆë“± êµìœ¡ê³¼ì • í•œê¸€ í€´ì¦ˆ">
<meta name="twitter:description" content="ì´ˆë“±í•™êµ êµìœ¡ê³¼ì • ê¸°ë°˜ í•œê¸€ í€´ì¦ˆ. Korean language quiz based on elementary school curriculum.">
    
<link rel="canonical" href="https://soosooland.com/school/">
<link rel="stylesheet" href="https://soosooland.com/css/protection.css">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "VideoGame",
  "name": "Moeum School",
  "description": "Korean language quiz based on elementary school curriculum for grades 1-6.",
  "url": "https://soosooland.com/school/",
  "genre": "Puzzle",
  "gamePlatform": "Web browser",
  "playMode": "SinglePlayer",
  "inLanguage": ["ko"]
}
</script>
<script src="https://soosooland.com/js/protection.js"></script>
<style>
 :root {
            --bg-color: #145454;
            --white-color: #F4F6F5;
            --black-color: #1B2B2B;
            --primary-color: #6F8FA3;
            --sub-color: #2F4B5C;
            --accent-color: #2F4B5C;
}
* {
      box-sizing: border-box;
    }

body {
  font-family: Arial, sans-serif;
  background: var(--bg-color);
  text-align: center;
  padding: 30px;
  margin: 0;
}
.back-button {
position: absolute;
top: 20px;
left: 20px;
padding: 10px 20px;
font-size: 1em;
background: var(--accent-color);
color: var(--black-color);
border: none;
border-radius: 8px;
cursor: pointer;
transition: all 0.3s ease;
z-index: 100;
}

.back-button:hover {
    background-color: #FF9494;
    color: white;
}

h1 { font-size: 2.3em; margin-bottom:0; color: var(--primary-color); }
h2 { font-size:1.3em; color: var(--primary-color); }

header > div {
  color:var(--black-color);
  line-height: 140%;
  margin:30px auto;
}

header {
  min-height: auto;
  margin-bottom: 20px;
}

/* í•™ìŠµ ì•ˆë‚´ ì„¹ì…˜ */
.learning-guide {
  background: var(--white-color);
  border: 10px solid var(--primary-color);
  border-radius: 12px;
  padding: 20px;
  margin: 20px auto;
  max-width: 800px;
  text-align: left;
  color: var(--black-color);
}

.learning-guide h3 {
  color: var(--black-color);
  font-size: 1.5em;
  margin-bottom: 15px;
  text-align: center;
}

.learning-guide p {
  line-height: 1.8;
  margin: 10px 0;
  font-size: 1.2em;
}

.learning-guide ul {
  margin: 10px 0;
  padding-left: 25px;
}

.learning-guide li {
  margin: 8px 0;
  font-size: 1.1em;
  line-height: 1.6;
}

.highlight {
  color: var(--sub-color);
  font-weight: bold;
}

/* í†µê³„ ì„¹ì…˜ */
.stats-section {
  background: var(--primary-color);
  border-radius: 12px;
  padding: 15px;
  margin: 20px auto;
  max-width: 800px;
  color: var(--black-color);
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 15px;
  margin-top: 10px;
}

.stat-item {
  background: var(--white-color);
  padding: 10px;
  border-radius: 8px;
  text-align: center;
}

.stat-number {
  font-size: 1.2em;
  font-weight: bold;
  color: var(--sub-color);
}

.stat-label {
  font-size: 1.2em;
  margin-top: 5px;
}

/* ì•„ì½”ë””ì–¸ í—¤ë” ìŠ¤íƒ€ì¼ */
.accordion-header {
  background: var(--accent-color);
  color: var(--black-color);
  padding: 20px;
  margin: 10px auto;
  width: 90%;
  max-width: 800px;
  border-radius: 12px;
  cursor: pointer;
  font-size: 1.3em;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.3s ease;
}

.accordion-header:hover {
  background: var(--primary-color);
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(27, 175, 143, 0.3);
}

.accordion-header .arrow {
  font-size: 1.3em;
  transition: transform 0.3s ease;
}

.accordion-header.active .arrow {
  transform: rotate(180deg);
}

/* ì•„ì½”ë””ì–¸ ë‚´ìš© */
.accordion-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

.accordion-content.active {
  max-height: 5000px;
}

.grade-section {
  background-color: var(--bg-color);
  color: var(--white-color);
  width: 90%;
  max-width: 800px;
  border-radius: 12px;
  margin: 0 auto 20px;
  padding: 20px;
}

.game-buttons {
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
}

.game-item {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 10px;
  background-color: #1a6060;
  padding: 10px;
  border-radius: 8px;
}

.game-button {
  flex: 0 0 200px;
  height: 45px;
  padding: 12px 0;
  font-size: 1.2em;     
  font-weight: 500;     
  cursor: pointer;
  border: none;
  background-color: var(--primary-color);
  color: var(--black-color);
  border-radius: 12px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  transition: all 0.3s ease;
}

.game-button:hover {
  background-color: var(--sub-color);
  color: var(--black-color);
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(27, 175, 143, 0.3);
}

.game-button.completed-5 {
  background: linear-gradient(135deg, #FFD700, #FFA500);
  color: #000;
}

.game-button.completed-4 {
  background: linear-gradient(135deg, #FFD700, #FFED4E);
  color: #000;
}

.game-button.completed-3 {
  background: linear-gradient(135deg, #C0C0C0, #E8E8E8);
  color: #000;
}

.game-button.completed-2 {
  background: linear-gradient(135deg, #CD7F32, #E8956F);
  color: #fff;
}

.game-button.review-today {
  border: 3px solid #FFD700;
  animation: pulse 1.5s infinite;
}

@keyframes shimmer {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.2); }
}

@keyframes pulse {
  0%, 100% { box-shadow: 0 0 10px #FFD700; }
  50% { box-shadow: 0 0 20px #FFD700; }
}

.progress-boxes {
  display: flex;
  gap: 5px;
  align-items: center;
}

.progress-box {
  width: 60px;
  height: 35px;
  border: 2px solid var(--primary-color);
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75em;
  color: var(--primary-color);
  background-color: rgba(255, 255, 255, 0.1);
}

.progress-box.completed {
  background-color: var(--bg-color);
  border-color: var(--primary-color);
  color: var(--white-color);
  font-weight: bold;
}

.progress-box.review-soon {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
  color: white;
  animation: blink 1s infinite;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

.medal {
  font-size: 1.5em;
  margin-right: 5px;
}

/* ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ */
@media (max-width: 799px) {
  .game-item {
    flex-direction: column;
    align-items: stretch;
  }
  
  .game-button {
    flex: 1;
    width: 100%;
  }
  
  .progress-boxes {
    justify-content: center;
  }
  
  .progress-box {
    width: 50px;
    height: 30px;
    font-size: 0.7em;
  }
}

@media (max-width: 499px) {
  .grade-section, .accordion-header {
    width: 95%;
  }

  h1 {
    font-size: 2em;
  }
  
  .accordion-header {
    font-size: 1.2em;
  }
  
  .learning-guide {
    padding: 15px;
  }
  
  .learning-guide p, .learning-guide li {
    font-size: 1em;
  }
  
  .stat-number {
    font-size: 1.5em;
  }
}

</style>

</head>
<body>
  <button class="back-button" onclick="location.href='https://soosooland.com/'">
    â† Soosooland </button>

<header>
    <div class="moeum-main" id="moeum-main">
        <h1>ëª¨ìŒìŠ¤ì¿¨ (ê°œë°œì¤‘)</h1>
    </div>
</header>

<!-- í•™ìŠµ ì•ˆë‚´ -->
<div class="learning-guide">
  <h3>
    <button id="langToggle" onclick="toggleLanguage()" style="padding: 5px 12px; cursor: pointer; font-size: 14px; margin-right: 10px; border-radius: 5px; font-weight: bold;">
      EN
    </button>
  <span id="titleKo">ğŸ“š íš¨ê³¼ì ì¸ ê¸°ì–µë²• - ê°„ê²© ë°˜ë³µ í•™ìŠµ</span>
    <span id="titleEn" style="display: none;">ğŸ“š Effective Learning - Spaced Repetition</span>
  </h3>
  
  <div id="korean" class="lang-content">
    <p>ë…ì¼ ì‹¬ë¦¬í•™ì í—¤ë¥´ë§Œ ì—ë¹™í•˜ìš°ìŠ¤ê°€ ë°œê²¬í•œ ê³¼í•™ì  í•™ìŠµë²•ì…ë‹ˆë‹¤.<br>
    ì™¸êµ­ì–´ í•™ìŠµê³¼ ì¥ê¸°ê¸°ì–µì— ë§¤ìš° íš¨ê³¼ì ì…ë‹ˆë‹¤.</p>
    <ul>
      <li>ğŸ† ì²« í•™ìŠµì—ì„œ 100ì ì„ ë§ìœ¼ë©´ íŠ¸ë¡œí”¼ íšë“! ë³µìŠµ ë©´ì œ!</li>
      <li>ğŸ“ ì²« í•™ìŠµì—ì„œ í‹€ë¦° ë¬¸ì œê°€ ìˆìœ¼ë©´<br>
        í‹€ë¦° ë¬¸ì œë§Œ ë°”ë¡œ ë‹¤ì‹œ í’€ë©´ í•™ìŠµì´ ì™„ë£Œë©ë‹ˆë‹¤.</li>
      <li>ì²« í•™ìŠµì—ì„œ í‹€ë¦° ë¬¸ì œë§Œ ë³µìŠµ ì¼ì •ì— ì €ì¥ë©ë‹ˆë‹¤</li>
      <li>ğŸ“… ë³µìŠµ ì¼ì • (ì²«íŒì—ì„œ í‹€ë¦° ë¬¸ì œë§Œ):</li>
      <li>3ì¼ í›„ â†’ 7ì¼ í›„ â†’ 14ì¼ í›„ â†’ 28ì¼ í›„ â†’ 28ì¼ í›„</li>
      <li>ì´ 5ë²ˆì˜ ë³µìŠµìœ¼ë¡œ ì¥ê¸°ê¸°ì–µ ì™„ì„±!</li>
      <li>âš ï¸ í•œ ë²ˆì— ëª°ì•„ì„œ ê³µë¶€í•˜ì§€ ë§ˆì„¸ìš” - ë‡Œê°€ í˜ë“¤ì–´ìš”</li>
      <li>ğŸ¯ ë‚ ì§œë¥¼ ì§€ì¼œì„œ ë°˜ë³µí•˜ë©´ ì˜¤ë˜ ê¸°ì–µë©ë‹ˆë‹¤</li>
      <li> <span class="highlight"> ğŸŒ ë‚ ì§œëŠ” ì„¸ê³„í‘œì¤€ì‹œ(UTC) ê¸°ì¤€ì…ë‹ˆë‹¤.</span> </li>
      <li> <span class="highlight"> ğŸŒ í•œêµ­ì—ì„œëŠ” ì˜¤ì „9ì‹œì— ë‚ ì§œê°€ ë°”ë€ë‹ˆë‹¤.</span> </li>  

    </ul>
    <p style="text-align: center; margin-top: 15px; animation: blink 1s infinite;">
      <span class="highlight">â° ì˜¤ëŠ˜ ë³µìŠµí•  ë¬¸ì œ: <span id="reviewTodayCount">0</span>ê°œ</span> 
    </p>
  </div>
  
  <div id="english" class="lang-content" style="display: none;">
    <p>A scientifically proven learning method discovered by German psychologist Hermann Ebbinghaus.<br>
    Highly effective for language learning and long-term memory.</p>
    <ul>
      <li>ğŸ† Get 100% on first attempt?Trophy earned! Review exempted!</li>
      <li>ğŸ“ Made mistakes on first attempt?<br>
        Retry only the incorrect problems to complete the lesson.</li>
      <li>Only incorrect problems are saved to review schedule</li>
      <li>ğŸ“… Review Schedule (incorrect problems only):</li>
      <li>After 3 days â†’ 7 days â†’ 14 days â†’ 28 days</li>
      <li>4 reviews complete = Long-term memory achieved!</li>
      <li>âš ï¸ Don't cram - Your brain needs breaks</li>
      <li>ğŸ¯ Follow the schedule for lasting memory</li>
      <li><span class="highlight">ğŸŒ Dates are based on UTC (Coordinated Universal Time)</span></li>
    </ul>
    <p style="text-align: center; margin-top: 15px; animation: blink 1s infinite;">
      <span class="highlight">â° Problems to review today: <span id="reviewTodayCount">0</span></span> 
    </p>
  </div>
</div>

<!-- í†µê³„ ì„¹ì…˜ -->

<div class="stats-section">
  <div class="stats-grid">
    <div class="stat-item">
      <div class="stat-number" id="inProgressCount">0</div>
      <div class="stat-label">ğŸ“1ì°¨ ê³µë¶€</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="bronzeCount">0</div>
      <div class="stat-label">ğŸ¥‰2ì°¨ ë³µìŠµ</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="silverCount">0</div>
      <div class="stat-label">ğŸ¥ˆ3ì°¨ ë³µìŠµ</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="goldCount">0</div>
      <div class="stat-label">ğŸ¥‡4ì°¨ ë³µìŠµ</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="masterCount">0</div>
      <div class="stat-label">ğŸ† ì™„ë£Œ</div>
    </div>
  </div>
</div>

<!-- 1í•™ë…„ 1í•™ê¸° ì•„ì½”ë””ì–¸ -->

<div class="accordion-header active" onclick="toggleAccordion(this)">
  <span>ğŸŒ±êµ­ì–´ 1í•™ë…„ 1í•™ê¸°</span>
  <span class="arrow">â–¼</span>
</div>
<div class="accordion-content active">
  <div class="grade-section">
    <div class="game-buttons" id="grade1-1-buttons">
    <!-- ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
    </div>
  </div>
</div>

<!-- 1í•™ë…„ 2í•™ê¸° ì•„ì½”ë””ì–¸ -->
<div class="accordion-header" onclick="toggleAccordion(this)">
  <span>ğŸŒ±êµ­ì–´ 1í•™ë…„ 2í•™ê¸°</span>
  <span class="arrow">â–¼</span>
</div>
<div class="accordion-content">
  <div class="grade-section">
    <div class="game-buttons" id="grade1-2-buttons">
    <!-- ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
    </div>
  </div>
</div>
<!-- 2í•™ë…„ 1í•™ê¸° ì•„ì½”ë””ì–¸ -->
<div class="accordion-header" onclick="toggleAccordion(this)">
  <span>ğŸŒ¿êµ­ì–´ 2í•™ë…„ 1í•™ê¸°</span>
  <span class="arrow">â–¼</span>
</div>
<div class="accordion-content">
  <div class="grade-section">
    <div class="game-buttons" id="grade2-1-buttons">
    <!-- ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
    </div>
  </div>
</div>
<!-- 2í•™ë…„ 2í•™ê¸° ì•„ì½”ë””ì–¸ -->
<div class="accordion-header" onclick="toggleAccordion(this)">
  <span>ğŸŒ¿êµ­ì–´ 2í•™ë…„ 2í•™ê¸°</span>
  <span class="arrow">â–¼</span>
</div>
<div class="accordion-content">
  <div class="grade-section">
    <div class="game-buttons" id="grade2-2-buttons">
    <!-- ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
    </div>
  </div>
</div>

<script>
 const dailyThemes = {
    
1: { // ì›”ìš”ì¼
    bg: '#145454',
    white: '#F4F6F5',
    black: '#1B2B2B',
    primary: '#91b2c7',      // ì²­íšŒìƒ‰
    sub: '#2F4B5C',
    accent: '#E8956F',       // ì½”ë„ 
    name: 'ì›”ìš”ì¼'
},
2: { // í™”ìš”ì¼
    bg: '#145454',
    white: '#F4F6F5',
    black: '#1B2B2B',
    primary: '#7FA89A',      // ë¯¼íŠ¸
    sub: '#355F56',
    accent: '#c18ff2',       // ìŠ¤íƒ¬í”„ ë³´ë¼
    name: 'í™”ìš”ì¼'
},
3: { // ìˆ˜ìš”ì¼
    bg: '#145454',
    white: '#F7F5F0',
    black: '#2A2320',
    primary: '#B8C46F',      // ë°ì€ ì˜¬ë¦¬ë¸Œê·¸ë¦°
    sub: '#6B7A3F',
    accent: '#f7b2e3',       // pink
    name: 'ìˆ˜ìš”ì¼'
},
4: { // ëª©ìš”ì¼
    bg: '#145454',
    white: '#F7F5F0',
    black: '#2A2320',
    primary: '#D08A5A',      // ì˜¤ë Œì§€ë¸Œë¼ìš´
    sub: '#A85432',
    accent: '#5AB8D0',       // í„°ì½”ì´ì¦ˆ 
    name: 'ëª©ìš”ì¼'
},
5: { // ê¸ˆìš”ì¼
    bg: '#145454',
    white: '#F8F6FA',
    black: '#241F2B',
    primary: '#fcdd95',      // ë°ì€ ë…¸ë‘
    sub: '#C8A24A',
    accent: '#a5cbfa',       // í•˜ëŠ˜
    name: 'ê¸ˆìš”ì¼'
},
6: { // í† ìš”ì¼
    bg: '#145454',
    white: '#F8F6FA',
    black: '#241F2B',
    primary: '#ffaaa1',      // ì‚°í˜¸
    sub: '#9B4A4A',
    accent: '#6FD0B8',       // ë¯¼íŠ¸ê·¸ë¦°
    name: 'í† ìš”ì¼'
},
0: { // ì¼ìš”ì¼
    bg: '#145454',
    white: '#F8F6FA',
    black: '#241F2B',
    primary: '#9A8FBF',      // ë³´ë¼
    sub: '#4E3F73',
    accent: '#C5D08F',       // ë¼ì„ 
    name: 'ì¼ìš”ì¼'
}
};

// í˜ì´ì§€ ë¡œë“œ ì‹œ ìš”ì¼ë³„ í…Œë§ˆ ì ìš©
function applyDailyTheme() {
    const today = new Date().getDay();
    const theme = dailyThemes[today];
    
    const root = document.documentElement;
    root.style.setProperty('--bg-color', theme.bg);
    root.style.setProperty('--white-color', theme.white);
    root.style.setProperty('--black-color', theme.black);
    root.style.setProperty('--primary-color', theme.primary);
    root.style.setProperty('--sub-color', theme.sub);
    root.style.setProperty('--accent-color', theme.accent);
    
    console.log(`ì˜¤ëŠ˜ì˜ í…Œë§ˆ: ${theme.name}`);
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì¦‰ì‹œ ì‹¤í–‰
applyDailyTheme();

function toggleLanguage() {
  const korean = document.getElementById('korean');
  const english = document.getElementById('english');
  const titleKo = document.getElementById('titleKo');
  const titleEn = document.getElementById('titleEn');
  const button = document.getElementById('langToggle');
  
  if (korean.style.display === 'none') {
    korean.style.display = 'block';
    english.style.display = 'none';
    titleKo.style.display = 'inline';
    titleEn.style.display = 'none';
    button.textContent = 'EN';
  } else {
    korean.style.display = 'none';
    english.style.display = 'block';
    titleKo.style.display = 'none';
    titleEn.style.display = 'inline';
    button.textContent = 'í•œ';
  }
}
// 1í•™ë…„ 1í•™ê¸° ë¬¸ì œ ëª©ë¡
const grade1semester1 = [
{ id: '1-1-0-1a', title: 'í•œê¸€ë†€ì´(1)' },
{ id: '1-1-0-2a', title: 'í•œê¸€ë†€ì´(2)' },  
{ id: '1-1-0-3a', title: 'í•œê¸€ë†€ì´(3)' },  
{ id: '1-1-0-4a', title: 'í•œê¸€ë†€ì´(4)' },  
{ id: '1-1-0-5a', title: 'í•œê¸€ë†€ì´(5)' },
{ id: '1-1-0-6a', title: 'í•œê¸€ë†€ì´(6)' },
{ id: '1-1-1-1a', title: '1.ê¸€ìë¥¼ ë§Œë“¤ì–´ìš”(1)' },
{ id: '1-1-1-2a', title: '1.ê¸€ìë¥¼ ë§Œë“¤ì–´ìš”(2)' },
{ id: '1-1-1-3a', title: '1.ê¸€ìë¥¼ ë§Œë“¤ì–´ìš”(3)' },
{ id: '1-1-2-1a', title: '2.ë°›ì¹¨ì´ ìˆëŠ” ê¸€ì(1)' },
{ id: '1-1-2-2a', title: '2.ë°›ì¹¨ì´ ìˆëŠ” ê¸€ì(2)' },
{ id: '1-1-2-3a', title: '2.ë°›ì¹¨ì´ ìˆëŠ” ê¸€ì(3)' },
{ id: '1-1-3-1a', title: '3.ë‚±ë§ê³¼ ì¹œí•´ì ¸ìš”(1)' },
{ id: '1-1-3-2a', title: '3.ë‚±ë§ê³¼ ì¹œí•´ì ¸ìš”(2)' },
{ id: '1-1-4-1a', title: '4.ì—¬ëŸ¬ ê°€ì§€ ë‚±ë§ì„ ìµí˜€ìš”(1)' },
{ id: '1-1-4-2a', title: '4.ì—¬ëŸ¬ ê°€ì§€ ë‚±ë§ì„ ìµí˜€ìš”(2)' },
{ id: '1-1-4-3a', title: '4.ì—¬ëŸ¬ ê°€ì§€ ë‚±ë§ì„ ìµí˜€ìš”(3)' },
{ id: '1-1-5-1a', title: '5.ë°˜ê°‘ê²Œ ì¸ì‚¬í•´ìš”(1)' },
{ id: '1-1-5-2a', title: '5.ë°˜ê°‘ê²Œ ì¸ì‚¬í•´ìš”(2)' },
{ id: '1-1-6-1a', title: '6.ë˜ë°•ë˜ë°• ì½ì–´ìš”(1)' },
{ id: '1-1-6-2a', title: '6.ë˜ë°•ë˜ë°• ì½ì–´ìš”(2)' },
{ id: '1-1-7-1a', title: '7.ì•Œë§ì€ ë‚±ë§ì„ ì°¾ì•„ìš”(1)' },
{ id: '1-1-7-2a', title: '7.ì•Œë§ì€ ë‚±ë§ì„ ì°¾ì•„ìš”(2)' }
];

// 1í•™ë…„ 2í•™ê¸° ë¬¸ì œ ëª©ë¡
const grade1semester2 = [
{ id: '1-2-1-1a', title: '1. ê¸°ë¶„ì„ ë§í•´ìš”(1)' },
{ id: '1-2-1-2a', title: '1. ê¸°ë¶„ì„ ë§í•´ìš”(2)' },
{ id: '1-2-1-3a', title: '1. ê¸°ë¶„ì„ ë§í•´ìš”(3)' },
{ id: '1-2-1-4a', title: '1. ê¸°ë¶„ì„ ë§í•´ìš”(4)' },
{ id: '1-2-2-1a', title: '2. ë‚±ë§ì„ ì •í™•í•˜ê²Œ ì½ì–´ìš”(1)' },
{ id: '1-2-2-2a', title: '2. ë‚±ë§ì„ ì •í™•í•˜ê²Œ ì½ì–´ìš”(2)' },
{ id: '1-2-2-3a', title: '2. ë‚±ë§ì„ ì •í™•í•˜ê²Œ ì½ì–´ìš”(3)' },
{ id: '1-2-2-4a', title: '2. ë‚±ë§ì„ ì •í™•í•˜ê²Œ ì½ì–´ìš”(4)' },
{ id: '1-2-3-1a', title: '3. ê·¸ë¦¼ì¼ê¸°ë¥¼ ì¨ìš”(1)' },
{ id: '1-2-3-2a', title: '3. ê·¸ë¦¼ì¼ê¸°ë¥¼ ì¨ìš”(2)' },
{ id: '1-2-4-1a', title: '4. ê°ë™ì„ ë‚˜ëˆ„ì–´ìš”(1)' },
{ id: '1-2-4-2a', title: '4. ê°ë™ì„ ë‚˜ëˆ„ì–´ìš”(2)' },
{ id: '1-2-4-3a', title: '4. ê°ë™ì„ ë‚˜ëˆ„ì–´ìš”(3)' },
{ id: '1-2-4-4a', title: '4. ê°ë™ì„ ë‚˜ëˆ„ì–´ìš”(4)' },
{ id: '1-2-5-1a', title: '5. ìƒê°ì„ í‚¤ì›Œìš”(1)' },
{ id: '1-2-5-2a', title: '5. ìƒê°ì„ í‚¤ì›Œìš”(2)' },
{ id: '1-2-5-3a', title: '5. ìƒê°ì„ í‚¤ì›Œìš”(3)' },
{ id: '1-2-6-1a', title: '6. ë¬¸ì¥ì„ ì½ê³  ì¨ìš”(1)' },
{ id: '1-2-6-2a', title: '6. ë¬¸ì¥ì„ ì½ê³  ì¨ìš”(2)' },
{ id: '1-2-6-3a', title: '6. ë¬¸ì¥ì„ ì½ê³  ì¨ìš”(3)' },
{ id: '1-2-7-1a', title: '7. ë¬´ì—‡ì´ ì¤‘ìš”í• ê¹Œìš”(1)' },
{ id: '1-2-7-2a', title: '7. ë¬´ì—‡ì´ ì¤‘ìš”í• ê¹Œìš”(2)' },
{ id: '1-2-7-3a', title: '7. ë¬´ì—‡ì´ ì¤‘ìš”í• ê¹Œìš”(3)' },
{ id: '1-2-8-1a', title: '8. ëŠë¼ê³  í‘œí˜„í•´ìš”(1)' },
{ id: '1-2-8-2a', title: '8. ëŠë¼ê³  í‘œí˜„í•´ìš”(2)' },
{ id: '1-2-8-3a', title: '8. ëŠë¼ê³  í‘œí˜„í•´ìš”(3)' }
];

// 2í•™ë…„ 1í•™ê¸° ë¬¸ì œ ëª©ë¡
const grade2semester1 = [
{ id: '2-1-1-1a', title: '1.ë§Œë‚˜ì„œ ë°˜ê°€ì›Œìš”(1)' },â€¨{ id: '2-1-2-1a', title: '2.ë§ì˜ ì¬ë¯¸ê°€ ì†”ì†”(1)' },
{ id: '2-1-3-1a', title: '3.ê²ªì€ ì¼ì„ ë‚˜íƒ€ë‚´ìš”(1)' },
{ id: '2-1-3-2a', title: '3.ê²ªì€ ì¼ì„ ë‚˜íƒ€ë‚´ìš”(2)' },
{ id: '2-1-3-3a', title: '3.ê²ªì„ ì¼ì„ ë‚˜íƒ€ë‚´ìš”(3)' },
{ id: '2-1-4-1a', title: '4.ë¶„ìœ„ê¸°ë¥¼ ì‚´ë ¤ ì½ì–´ìš”(1)' },
{ id: '2-1-4-2a', title: '4.ë¶„ìœ„ê¸°ë¥¼ ì‚´ë ¤ ì½ì–´ìš”(2)' },
{ id: '2-1-5-1a', title: '5.ë§ˆìŒì„ ì§ì‘í•´ìš”(1)' },
{ id: '2-1-5-2a', title: '5.ë§ˆìŒì„ ì§ì‘í•´ìš”(2)' },
{ id: '2-1-6-1a', title: '6.ìì‹ ì˜ ìƒê°ì„ í‘œí˜„í•´ìš”(1)' },
{ id: '2-1-6-2a', title: '6.ìì‹ ì˜ ìƒê°ì„ í‘œí˜„í•´ìš”(2)' },
{ id: '2-1-7-1a', title: '7.ë§ˆìŒì„ ë‹´ì•„ì„œ ë§í•´ìš”(1)' },
{ id: '2-1-7-2a', title: '7.ë§ˆìŒì„ ë‹´ì•„ì„œ ë§í•´ìš”(2)' },
{ id: '2-1-8-1a', title: '8.ë‹¤ì–‘í•œ ì‘í’ˆì„ ê°ìƒí•´ìš”(1)' }
];

// 2í•™ë…„ 2í•™ê¸° ë¬¸ì œ ëª©ë¡
const grade2semester2 = [
{ id: '2-2-1-1', title: '1.ì¥ë©´ì„ ìƒìƒí•˜ë©°(1)' },
{ id: '2-2-1-2', title: '1.ì¥ë©´ì„ ìƒìƒí•˜ë©°(2)' },
{ id: '2-2-2-1', title: '2.ì„œë¡œ ì¡´ì¤‘í•´ìš”(1)' },
{ id: '2-2-3-1', title: '3.ë‚´ìš©ì„ ì‚´í´ìš”(1)' },
{ id: '2-2-3-2', title: '3.ë‚´ìš©ì„ ì‚´í´ìš”(2)' },
{ id: '2-2-3-3', title: '3.ë‚´ìš©ì„ ì‚´í´ìš”(3)' },
{ id: '2-2-4-1', title: '4.ë§ˆìŒì„ ì „í•´ìš”(1)' },
{ id: '2-2-4-2', title: '4.ë§ˆìŒì„ ì „í•´ìš”(2)' },
{ id: '2-2-5-1', title: '5.ë°”ë¥¸ ë§ë¡œ ë§í•´ìš”(1)' },
{ id: '2-2-5-2', title: '5.ë°”ë¥¸ ë§ë¡œ ë§í•´ìš”(2)' },
{ id: '2-2-6-1', title: '6.ë§¤ì²´ë¥¼ ê²½í—˜í•´ìš”(1)' },
{ id: '2-2-7-1', title: '7.ë‚´ ìƒê°ì€ ì´ë˜ìš”(1)' },
{ id: '2-2-8-1', title: '8.ë‚˜ë„ ì‘ê°€(1)' },
{ id: '2-2-8-2', title: '8.ë‚˜ë„ ì‘ê°€(2)' }
];

function toggleAccordion(header) {
  const content = header.nextElementSibling;
  const isActive = header.classList.contains('active');
  
  document.querySelectorAll('.accordion-header').forEach(h => {
    h.classList.remove('active');
  });
  document.querySelectorAll('.accordion-content').forEach(c => {
    c.classList.remove('active');
  });
  
  if (!isActive) {
    header.classList.add('active');
    content.classList.add('active');
  }
}

// ===== ğŸ”§ í…ŒìŠ¤íŠ¸ ëª¨ë“œ (school.htmlê³¼ ë™ì¼í•˜ê²Œ) =====
const TEST_MODE = false;

function getTodayUTC() {
    if (TEST_MODE) {
        return Date.now();
    }
    return new Date().toISOString().split('T')[0];
}

function getDaysDiff(date1, date2) {
  if (TEST_MODE) {
    return Math.ceil((date2 - date1) / 1000); // ì´ˆ ë‹¨ìœ„
  }
  const d1 = new Date(date1 + 'T00:00:00Z');
  const d2 = new Date(date2 + 'T00:00:00Z');
  return Math.ceil((d2 - d1) / (1000 * 60 * 60 * 24));
}

function getProgress(wordpoolId) {
  try {
    const allProgress = JSON.parse(localStorage.getItem('moeumschool_progress') || '{}');
    return allProgress[wordpoolId] || { attempts: [] };
  } catch (error) {
    return { attempts: [] };
  }
}

function getReviewData(wordpoolId) {
  try {
    const allReviews = JSON.parse(localStorage.getItem('moeumschool_reviews') || '{}');
    return allReviews[wordpoolId] || null;
  } catch (error) {
    return null;
  }
}

// ë³µìŠµ ìƒíƒœ í™•ì¸ (ìƒˆ ë°ì´í„° êµ¬ì¡°)
function getReviewStatus(wordpoolId) {
  const progress = getProgress(wordpoolId);
  const today = getTodayUTC();
  
  // ì•„ì§ ì‹œì‘ ì•ˆ í•¨
  if (progress.attempts.length === 0) return 'not-started';
  
  // ğŸ† íŠ¸ë¡œí”¼ (6íšŒ ì™„ë£Œ)
  if (progress.attempts.length >= 5) return 'completed-5';
  
  // ë³µìŠµ ë°ì´í„° í™•ì¸
  const reviewData = getReviewData(wordpoolId);
  if (!reviewData) {
    return `in-progress-${progress.attempts.length}`;
  }
  
  // ë‹¤ìŒ ë³µìŠµ ë‚ ì§œ í™•ì¸
  const nextReviewDate = reviewData.nextReviewDate;
  if (!nextReviewDate) {
    return `in-progress-${progress.attempts.length}`;
  }
  
  // ì˜¤ëŠ˜ì´ ë³µìŠµ ë‚ ì§œ ì´í›„ì¸ì§€ í™•ì¸
  if (today >= nextReviewDate) {
    return 'review-today';
  } else {
    return `in-progress-${progress.attempts.length}`;
  }
}

function playGame(wordpool, title) {
  const progress = getProgress(wordpool);
  const reviewData = getReviewData(wordpool);
  const today = getTodayUTC();
  
  // ğŸ† íŠ¸ë¡œí”¼ ë³´ìœ 
  if (progress.attempts.length >= 5) {
    // school.htmlì—ì„œ ì²˜ë¦¬í•˜ë¯€ë¡œ ë°”ë¡œ ì´ë™
  }
  // ë³µìŠµ ëŒ€ê¸° ì¤‘ì¸ ê²½ìš°
  else if (progress.attempts.length > 0 && reviewData && reviewData.nextReviewDate) {
    if (today < reviewData.nextReviewDate) {
      const daysLeft = getDaysDiff(today, reviewData.nextReviewDate);
      const unit = TEST_MODE ? 'ì´ˆ' : 'ì¼';
      alert(`â° ì•„ì§ ë³µìŠµ ì‹œê¸°ê°€ ì•„ë‹™ë‹ˆë‹¤!\n\në‹¤ìŒ ë³µìŠµ: ${daysLeft}${unit} í›„\nê°„ê²©ì„ ì§€ì¼œì•¼ íš¨ê³¼ì ìœ¼ë¡œ ê¸°ì–µí•  ìˆ˜ ìˆì–´ìš”.`);
      return;
    }
  }
  
  const gameUrl = 'https://soosooland.com/school/school.html';
  const wordpoolUrl = `https://soosooland.com/school/wordpools/${wordpool}.json`;
  const titleParam = title ? `&title=${encodeURIComponent(title)}` : '';
  location.href = `${gameUrl}?wordpool=${encodeURIComponent(wordpoolUrl)}${titleParam}`;
}

function getMedal(attemptCount, status) {
  if (attemptCount >= 5 || status === 'completed-5') return 'ğŸ†';
  return '';
}

// ì§„ë„ ë°•ìŠ¤ ìƒì„± (ìƒˆ ë°ì´í„° êµ¬ì¡°)
function createProgressBoxes(wordpoolId) {
  const progress = getProgress(wordpoolId);
  const reviewData = getReviewData(wordpoolId);
  const today = getTodayUTC();
  
  // ğŸ† íŠ¸ë¡œí”¼ - 5ê°œ ëª¨ë‘ ì™„ë£Œ í‘œì‹œ
  if (progress.attempts.length >= 5) {
    return progress.attempts.slice(0, 5).map((attempt, idx) => {
      const label = ['1ì°¨','2ì°¨','3ì°¨','4ì°¨','5ì°¨'][idx];
      let date;
      if (typeof attempt.date === 'number') {
        date = 'âœ…';
      } else {
        date = attempt.date.substring(5);
      }
      return `<div class="progress-box completed">${date}</div>`;
    }).join('');
  }
  
  const boxes = [];
  const labels = ['1ì°¨', '2ì°¨', '3ì°¨', '4ì°¨', '5ì°¨'];
  
  for (let i = 0; i < 5; i++) {
    let boxClass = 'progress-box';
    let content = '';
    
    if (i < progress.attempts.length) {
      // ì´ë¯¸ ì™„ë£Œí•œ ë‹¨ê³„
      boxClass += ' completed';
      if (typeof progress.attempts[i].date === 'number') {
        content = 'âœ…';
      } else {
        content = progress.attempts[i].date.substring(5);
      }
    } else if (i === progress.attempts.length) {
      // ë‹¤ìŒ í•  ë‹¨ê³„
      if (progress.attempts.length === 0) {
        boxClass += ' review-soon';
        content = 'ì‹œì‘';
      } else if (reviewData && reviewData.nextReviewDate) {
        if (today >= reviewData.nextReviewDate) {
          boxClass += ' review-soon';
          content = 'â°';
        } else {
          // ëŒ€ê¸° ì¤‘ - ë‚¨ì€ ì¼ìˆ˜ í‘œì‹œ
          const daysLeft = getDaysDiff(today, reviewData.nextReviewDate);
          const unit = TEST_MODE ? 'ì´ˆ' : 'ì¼';
          content = `${daysLeft}${unit}`;
        }
      }
    }
    
    boxes.push(`<div class="${boxClass}">${content}</div>`);
  }
  
  return boxes.join('');
}

// ë²„íŠ¼ ë Œë”ë§ í•¨ìˆ˜ (ê³µí†µ)
function renderButtons(items, containerId) {
  const container = document.getElementById(containerId);
  let html = '';
  
  items.forEach(item => {
    const progress = getProgress(item.id);
    const status = getReviewStatus(item.id);
    const medal = getMedal(progress.attempts.length, status);
    
    let buttonClass = 'game-button';
    if (status === 'review-today') {
      buttonClass += ' review-today';
    } else if (status === 'completed-5') {
      buttonClass += ' completed-5';
    }
    
    html += `
      <div class="game-item">
        <button class="${buttonClass}" onclick="playGame('${item.id}', '${item.title}')">
          ${medal ? `<span class="medal">${medal}</span>` : ''}${item.title}
        </button>
        <div class="progress-boxes">
          ${createProgressBoxes(item.id)}
        </div>
      </div>
    `;
  });
  
  container.innerHTML = html;
}

// í†µê³„ ì—…ë°ì´íŠ¸
function updateStats() {
  let masterCount = 0;
  let goldCount = 0;
  let silverCount = 0;
  let bronzeCount = 0;
  let inProgressCount = 0;
  let reviewTodayCount = 0;
  
  const allItems = [...grade1semester1, ...grade1semester2, ...grade2semester1];
  
  allItems.forEach(item => {
    const progress = getProgress(item.id);
    const attemptCount = progress.attempts.length;
    const status = getReviewStatus(item.id);
    
    if (attemptCount >= 5 || status === 'completed-5') masterCount++;
    else if (attemptCount === 4) goldCount++;
    else if (attemptCount === 3) silverCount++;
    else if (attemptCount === 2) bronzeCount++;
    else if (attemptCount === 1) inProgressCount++;
    
    if (status === 'review-today') reviewTodayCount++;
  });
  
  document.getElementById('masterCount').textContent = masterCount;
  document.getElementById('goldCount').textContent = goldCount;
  document.getElementById('silverCount').textContent = silverCount;
  document.getElementById('bronzeCount').textContent = bronzeCount;
  document.getElementById('inProgressCount').textContent = inProgressCount;
  document.getElementById('reviewTodayCount').textContent = reviewTodayCount;
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
window.addEventListener('load', () => {
  renderButtons(grade1semester1, 'grade1-1-buttons');
  renderButtons(grade1semester2, 'grade1-2-buttons');
  renderButtons(grade2semester1, 'grade2-1-buttons');
  renderButtons(grade2semester2, 'grade2-2-buttons');
  updateStats();
});
</script>

</body>
</html>
