<!DOCTYPE html>
<html lang="ko">
<head>
<!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4YZHC1G9FN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-4YZHC1G9FN');
    </script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ëª¨ìŒìŠ¤ì¿¨ Moeum School - ì´ˆë“±í•™êµ êµìœ¡ê³¼ì • í•™ìŠµìš© í€´ì¦ˆ | Soosooland</title>

<!-- SEO Meta Tags -->
<meta name="description" content="ì´ˆë“±í•™ìƒ í•™ìŠµ í€´ì¦ˆ. Korean language quiz based on elementary school curriculum for grades 1-6.">
<meta name="keywords" content="ì´ˆë“±í•™êµ, í•œê¸€ í€´ì¦ˆ, í•™ë…„ë³„ í•™ìŠµ, elementary school, Korean quiz, curriculum, educational game">
<meta name="author" content="Soosooland">

<!-- Open Graph (í˜ì´ìŠ¤ë¶ ì¹´ì¹´ì˜¤í†¡) -->
<meta property="og:title" content="ëª¨ìŒìŠ¤ì¿¨ - ì´ˆë“±í•™ìƒ í•™ìŠµ í€´ì¦ˆ | Soosooland">
<meta property="og:description" content="ì´ˆë“±í•™êµ êµìœ¡ê³¼ì • í•™ìŠµ í€´ì¦ˆ. Korean language quiz based on elementary school curriculum for grades 1-6.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://soosooland.com/school/">
<meta property="og:image" content="https://soosooland.com/images/moeum.jpeg">
<meta property="og:site_name" content="Soosooland">

<!-- íŠ¸ìœ„í„° -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://soosooland.com/images/moeum.jpeg">
<meta name="twitter:title" content="ëª¨ìŒìŠ¤ì¿¨ - ì´ˆë“± êµìœ¡ê³¼ì • í•œê¸€ í€´ì¦ˆ">
<meta name="twitter:description" content="ì´ˆë“±í•™êµ êµìœ¡ê³¼ì • ê¸°ë°˜ í•œê¸€ í€´ì¦ˆ. Korean language quiz based on elementary school curriculum.">
    
<link rel="canonical" href="https://soosooland.com/school/">
<link rel="stylesheet" href="https://soosooland.com/css/protection.css">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "VideoGame",
  "name": "Moeum School",
  "description": "Korean language quiz based on elementary school curriculum for grades 1-6.",
  "url": "https://soosooland.com/school/",
  "genre": "Puzzle",
  "gamePlatform": "Web browser",
  "playMode": "SinglePlayer",
  "inLanguage": ["ko"]
}
</script>
<script src="https://soosooland.com/js/protection.js"></script>
<style>
 :root {
            /* ìš”ì¼ë³„ë¡œ ë³€ê²½ë˜ëŠ” ìƒ‰ìƒ - ê¸°ë³¸ê°’ (ì›”ìš”ì¼) */
            --bg-color: #145454;          /* ì¹ íŒìƒ‰ 60% - ë°°ê²½ ê³µê°„ */
            --white-color: #F4F6F5;       /* í™”ì´íŠ¸ 30% - ì •ë³´ */
            --black-color: #1B2B2B;       /* ë¸”ë™ 10% - ê°€ë…ì„± */
            --primary-color: #6F8FA3;     /* ì£¼ì¡°ìƒ‰ */
            --sub-color: #2F4B5C;         /* ì–´ë‘ìš´ ì£¼ì¡°ìƒ‰ */
            --accent-color: #2F4B5C;      /* ì£¼ì¡°ìƒ‰ê³¼ 120ë„ ì„ ëª…í•˜ê³  ë°ìŒ */
       
        }
* {
      box-sizing: border-box;
    }

body {
  font-family: Arial, sans-serif;
  background: var(--bg-color);
  text-align: center;
  padding: 30px;
  margin: 0;
}
.back-button {
position: absolute;
top: 20px;
left: 20px;
padding: 10px 20px;
font-size: 1em;
background: var(--accent-color);
color: var(--black-color);
border: none;
border-radius: 8px;
cursor: pointer;
transition: all 0.3s ease;
z-index: 100;
}

.back-button:hover {
    background-color: #FF9494;
    color: white;
}

h1 { font-size: 2.3em; margin-bottom:0; color: var(--primary-color); }
h2 { font-size:1.3em; color: var(--primary-color); }

header > div {
  color:var(--black-color);
  line-height: 140%;
  margin:30px auto;
}

header {
  min-height: auto;
  margin-bottom: 20px;
}

/* í•™ìŠµ ì•ˆë‚´ ì„¹ì…˜ */
.learning-guide {
  background: var(--white-color);
  border: 10px solid var(--primary-color);
  border-radius: 12px;
  padding: 20px;
  margin: 20px auto;
  max-width: 800px;
  text-align: left;
  color: var(--black-color);
}

.learning-guide h3 {
  color: var(--black-color);
  font-size: 1.5em;
  margin-bottom: 15px;
  text-align: center;
}

.learning-guide p {
  line-height: 1.8;
  margin: 10px 0;
  font-size: 1.2em;
}

.learning-guide ul {
  margin: 10px 0;
  padding-left: 25px;
}

.learning-guide li {
  margin: 8px 0;
  font-size: 1.1em;
  line-height: 1.6;
}

.highlight {
  color: var(--sub-color);
  font-weight: bold;
}

/* í†µê³„ ì„¹ì…˜ */
.stats-section {
  background: var(--primary-color);
  border-radius: 12px;
  padding: 15px;
  margin: 20px auto;
  max-width: 800px;
  color: var(--black-color);
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 15px;
  margin-top: 10px;
}

.stat-item {
  background: var(--white-color);
  padding: 10px;
  border-radius: 8px;
  text-align: center;
}

.stat-number {
  font-size: 1.2em;
  font-weight: bold;
  color: var(--sub-color);
}

.stat-label {
  font-size: 1.2em;
  margin-top: 5px;
}

/* ì•„ì½”ë””ì–¸ í—¤ë” ìŠ¤íƒ€ì¼ */
.accordion-header {
  background: var(--accent-color);
  color: var(--black-color);
  padding: 20px;
  margin: 10px auto;
  width: 90%;
  max-width: 800px;
  border-radius: 12px;
  cursor: pointer;
  font-size: 1.3em;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.3s ease;
}

.accordion-header:hover {
  background: var(--primary-color);
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(27, 175, 143, 0.3);
}

.accordion-header .arrow {
  font-size: 1.3em;
  transition: transform 0.3s ease;
}

.accordion-header.active .arrow {
  transform: rotate(180deg);
}

/* ì•„ì½”ë””ì–¸ ë‚´ìš© */
.accordion-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

.accordion-content.active {
  max-height: 5000px;
}

.grade-section {
  background-color: var(--bg-color);
  color: var(--white-color);
  width: 90%;
  max-width: 800px;
  border-radius: 12px;
  margin: 0 auto 20px;
  padding: 20px;
}

.game-buttons {
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
}

.game-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  background-color: #1a6060;
  padding: 10px;
  border-radius: 8px;
}

.game-button {
  flex: 0 0 200px;
  height: 45px;
  padding: 12px 0;
  font-size: 1.2em;     
  font-weight: 500;     
  cursor: pointer;
  border: none;
  background-color: var(--primary-color);
  color: var(--black-color);
  border-radius: 12px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  transition: all 0.3s ease;
}

.game-button:hover {
  background-color: var(--sub-color);
  color: (--black-color);
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(27, 175, 143, 0.3);
}

.game-button.completed-5 {
  background: linear-gradient(135deg, #FFD700, #FFA500);
  color: #000;
  animation: shimmer 2s infinite;
}

.game-button.completed-4 {
  background: linear-gradient(135deg, #FFD700, #FFED4E);
  color: #000;
}

.game-button.completed-3 {
  background: linear-gradient(135deg, #C0C0C0, #E8E8E8);
  color: #000;
}

.game-button.completed-2 {
  background: linear-gradient(135deg, #CD7F32, #E8956F);
  color: #fff;
}

.game-button.review-today {
  border: 3px solid #FFD700;
  animation: pulse 1.5s infinite;
}

@keyframes shimmer {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.2); }
}

@keyframes pulse {
  0%, 100% { box-shadow: 0 0 10px #FFD700; }
  50% { box-shadow: 0 0 20px #FFD700; }
}

.progress-boxes {
  display: flex;
  gap: 5px;
  align-items: center;
}

.progress-box {
  width: 60px;
  height: 35px;
  border: 2px solid var(--primary-color);
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75em;
  color: var(--primary-color);
  background-color: rgba(255, 255, 255, 0.1);
}

.progress-box.completed {
  background-color: var(--bg-color);
  border-color: var(--primary-color);
  color: var(--white-color);
  font-weight: bold;
}

.progress-box.review-soon {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
  color: white;
  animation: blink 1s infinite;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

.medal {
  font-size: 1.5em;
  margin-right: 5px;
}

/* ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ */
@media (max-width: 799px) {
  .game-item {
    flex-direction: column;
    align-items: stretch;
  }
  
  .game-button {
    flex: 1;
    width: 100%;
  }
  
  .progress-boxes {
    justify-content: center;
  }
  
  .progress-box {
    width: 50px;
    height: 30px;
    font-size: 0.7em;
  }
}

@media (max-width: 499px) {
  .grade-section, .accordion-header {
    width: 95%;
  }

  h1 {
    font-size: 2em;
  }
  
  .accordion-header {
    font-size: 1.2em;
  }
  
  .learning-guide {
    padding: 15px;
  }
  
  .learning-guide p, .learning-guide li {
    font-size: 1em;
  }
  
  .stat-number {
    font-size: 1.5em;
  }
}

</style>

</head>
<body>
  <button class="back-button" onclick="location.href='https://soosooland.com/'">
    â† Soosooland </button>

<header>
    <div class="moeum-main" id="moeum-main">
        <h1>ëª¨ìŒìŠ¤ì¿¨ (ê°œë°œì¤‘)</h1>
    </div>
</header>

<!-- í•™ìŠµ ì•ˆë‚´ -->

<div class="learning-guide">
  <h3>ğŸ“š íš¨ê³¼ì ì¸ ê¸°ì–µë²• - ê°„ê²© ë°˜ë³µ í•™ìŠµ</h3>
  <p>ë…ì¼ ì‹¬ë¦¬í•™ì í—¤ë¥´ë§Œ ì—ë¹™í•˜ìš°ìŠ¤ê°€ ë°œê²¬í•œ ê³¼í•™ì  í•™ìŠµë²•ì…ë‹ˆë‹¤.<br>
  ì™¸êµ­ì–´ í•™ìŠµê³¼ ì¥ê¸°ê¸°ì–µì— ë§¤ìš° íš¨ê³¼ì ì…ë‹ˆë‹¤.</p>

  <ul>
    <li>âœ… <span class="highlight">ëª¨ë“  ë¬¸ì œë¥¼ ë§ì¶”ë©´</span> ë‚ ì§œê°€ ê¸°ë¡ë©ë‹ˆë‹¤</li>
    <li>ğŸ“… ê¶Œì¥ ë³µìŠµ ì¼ì •:
      <ul>
        <li>ğŸ“1ì°¨ ê³µë¶€ â†’ <span class="highlight">2~4ì¼ í›„</span> 2ì°¨ ë³µìŠµ</li>
        <li>ğŸ¥‰2ì°¨ ë³µìŠµ â†’ <span class="highlight">6~8ì¼ í›„</span> 3ì°¨ ë³µìŠµ</li>
        <li>ğŸ¥ˆ3ì°¨ ë³µìŠµ â†’ <span class="highlight">13~15ì¼ í›„</span> 4ì°¨ ë³µìŠµ</li>
        <li>ğŸ¥‡4ì°¨ ë³µìŠµ â†’ <span class="highlight">26~30ì¼ í›„</span> 5ì°¨ ë³µìŠµ</li>
        <li>ğŸ†5ì°¨ ë³µìŠµ â†’ <span class="highlight">ì¥ê¸°ê¸°ì–µ ì €ì¥ ì™„ë£Œ</span></li>
        <li>âš ï¸ í•œ ë²ˆì— ëª°ì•„ì„œ ê³µë¶€í•˜ì§€ ë§ˆì„¸ìš” - ë‡Œê°€ í˜ë“¤ì–´ìš”</li>
        <li>ğŸ¯ ë‚ ì§œë¥¼ ì§€ì¼œì„œ ë°˜ë³µí•˜ë©´ ì˜¤ë˜ ê¸°ì–µë©ë‹ˆë‹¤</li>
        <li>â° ë³µìŠµ ë‚ ì§œê°€ ë˜ë©´ ì•Œë¦¼ì´ í‘œì‹œë©ë‹ˆë‹¤</li>
      </ul>
  <p style="text-align: center; margin-top: 15px;  animation: blink 1s infinite; ">
    <span class="highlight">â° ì˜¤ëŠ˜ ë³µìŠµí•  ë¬¸ì œ: <span id="reviewTodayCount">0</span>ê°œ</span> 
  </p>
</div>


</div>

<!-- í†µê³„ ì„¹ì…˜ -->

<div class="stats-section">
  <div class="stats-grid">
    <div class="stat-item">
      <div class="stat-number" id="inProgressCount">0</div>
      <div class="stat-label">ğŸ“1ì°¨ ê³µë¶€</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="bronzeCount">0</div>
      <div class="stat-label">ğŸ¥‰2ì°¨ ë³µìŠµ</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="silverCount">0</div>
      <div class="stat-label">ğŸ¥ˆ3ì°¨ ë³µìŠµ</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="goldCount">0</div>
      <div class="stat-label">ğŸ¥‡4ì°¨ ë³µìŠµ</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="masterCount">0</div>
      <div class="stat-label">ğŸ†5ì°¨ ë³µìŠµ</div>
    </div>
  </div>
</div>

<!-- 1í•™ë…„ 1í•™ê¸° ì•„ì½”ë””ì–¸ -->

<div class="accordion-header active" onclick="toggleAccordion(this)">
  <span>ğŸŒ± 1í•™ë…„ 1í•™ê¸°</span>
  <span class="arrow">â–¼</span>
</div>
<div class="accordion-content active">
  <div class="grade-section">
    <div class="game-buttons" id="grade1-1-buttons">
      <!-- ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
    </div>
  </div>
</div>

<!-- 1í•™ë…„ 2í•™ê¸° ì•„ì½”ë””ì–¸ -->
<div class="accordion-header" onclick="toggleAccordion(this)">
  <span>ğŸŒ¿ 1í•™ë…„ 2í•™ê¸°</span>
  <span class="arrow">â–¼</span>
</div>
<div class="accordion-content">
  <div class="grade-section">
    <div class="game-buttons" id="grade1-2-buttons">
      <!-- ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
    </div>
  </div>
</div>

<!-- 3í•™ë…„ 1í•™ê¸° ì•„ì½”ë””ì–¸ (ìƒ˜í”Œ) -->

<div class="accordion-header" onclick="toggleAccordion(this)">
  <span>ğŸŒ² 3í•™ë…„ 1í•™ê¸° (ìƒ˜í”Œ)</span>
  <span class="arrow">â–¼</span>
</div>
<div class="accordion-content">
  <div class="grade-section">
    <div class="game-buttons">
      <div class="game-item">
        <button class="game-button" onclick="playGame('grade3-science', '3í•™ë…„ - ê³¼í•™ (ìƒ˜í”Œ)')">ğŸ”¬ ê³¼í•™ (ìƒ˜í”Œ)</button>
        <div class="progress-boxes">
          <div class="progress-box"></div>
          <div class="progress-box"></div>
          <div class="progress-box"></div>
          <div class="progress-box"></div>
          <div class="progress-box"></div>
        </div>
      </div>
      <div class="game-item">
        <button class="game-button" onclick="playGame('grade3-social', '3í•™ë…„ - ì‚¬íšŒ (ìƒ˜í”Œ)')">ğŸŒ ì‚¬íšŒ (ìƒ˜í”Œ)</button>
        <div class="progress-boxes">
          <div class="progress-box"></div>
          <div class="progress-box"></div>
          <div class="progress-box"></div>
          <div class="progress-box"></div>
          <div class="progress-box"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ì‰¬ëŠ” ì‹œê°„ -->
<div class="accordion-header" onclick="toggleAccordion(this)">
  <span>ì‰¬ëŠ” ì‹œê°„</span>
  <span class="arrow">â–¼</span>
</div>
<div class="accordion-content">
  <div class="grade-section">
    <div class="game-buttons">
      <div class="game-item">
        <button class="game-button" onclick="playGame('animal0', 'ë™ë¬¼')">ë™ë¬¼ </button>
        <button class="game-button" onclick="playGame('vegi0', 'ê³¼ì¼ ì±„ì†Œ')">ê³¼ì¼ ì±„ì†Œ</button>
        <button class="game-button" onclick="playGame('food0', 'ìŒì‹')">ìŒì‹</button>
        <button class="game-button" onclick="playGame('mool0', 'ë¬¼ê±´1')">ë¬¼ê±´1</button>
        <button class="game-button" onclick="playGame('mool1', 'ë¬¼ê±´2')">ë¬¼ê±´2</button>
      </div>
    </div>
  </div>
</div>

<script>
const dailyThemes = {
    
1: { // ì›”ìš”ì¼
    bg: '#145454',
    white: '#F4F6F5',
    black: '#1B2B2B',
    primary: '#91b2c7',      // ì²­íšŒìƒ‰
    sub: '#2F4B5C',
    accent: '#E8956F',       // ì½”ë„ 
    name: 'ì›”ìš”ì¼'
},
2: { // í™”ìš”ì¼
    bg: '#145454',
    white: '#F4F6F5',
    black: '#1B2B2B',
    primary: '#7FA89A',      // ë¯¼íŠ¸
    sub: '#355F56',
    accent: '#c18ff2',       // ìŠ¤íƒ¬í”„ ë³´ë¼
    name: 'í™”ìš”ì¼'
},
3: { // ìˆ˜ìš”ì¼
    bg: '#145454',
    white: '#F7F5F0',
    black: '#2A2320',
    primary: '#B8C46F',      // ë°ì€ ì˜¬ë¦¬ë¸Œê·¸ë¦°
    sub: '#6B7A3F',
    accent: '#f7b2e3',       // pink
    name: 'ìˆ˜ìš”ì¼'
},
4: { // ëª©ìš”ì¼
    bg: '#145454',
    white: '#F7F5F0',
    black: '#2A2320',
    primary: '#D08A5A',      // ì˜¤ë Œì§€ë¸Œë¼ìš´
    sub: '#A85432',
    accent: '#5AB8D0',       // í„°ì½”ì´ì¦ˆ 
    name: 'ëª©ìš”ì¼'
},
5: { // ê¸ˆìš”ì¼
    bg: '#145454',
    white: '#F8F6FA',
    black: '#241F2B',
    primary: '#fcdd95',      // ë°ì€ ë…¸ë‘
    sub: '#C8A24A',
    accent: '#a5cbfa',       // í•˜ëŠ˜
    name: 'ê¸ˆìš”ì¼'
},
6: { // í† ìš”ì¼
    bg: '#145454',
    white: '#F8F6FA',
    black: '#241F2B',
    primary: '#ffaaa1',      // ì‚°í˜¸
    sub: '#9B4A4A',
    accent: '#6FD0B8',       // ë¯¼íŠ¸ê·¸ë¦°
    name: 'í† ìš”ì¼'
},
0: { // ì¼ìš”ì¼
    bg: '#145454',
    white: '#F8F6FA',
    black: '#241F2B',
    primary: '#9A8FBF',      // ë³´ë¼
    sub: '#4E3F73',
    accent: '#C5D08F',       // ë¼ì„ 
    name: 'ì¼ìš”ì¼'
}
};

// í˜ì´ì§€ ë¡œë“œ ì‹œ ìš”ì¼ë³„ í…Œë§ˆ ì ìš©
function applyDailyTheme() {
    const today = new Date().getDay();
    const theme = dailyThemes[today];
    
    const root = document.documentElement;
    root.style.setProperty('--bg-color', theme.bg);
    root.style.setProperty('--white-color', theme.white);
    root.style.setProperty('--black-color', theme.black);
    root.style.setProperty('--primary-color', theme.primary);
    root.style.setProperty('--sub-color', theme.sub);
    root.style.setProperty('--accent-color', theme.accent);
    
    console.log(`ì˜¤ëŠ˜ì˜ í…Œë§ˆ: ${theme.name}`);
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì¦‰ì‹œ ì‹¤í–‰
applyDailyTheme();

// 1í•™ë…„ 1í•™ê¸° ë¬¸ì œ ëª©ë¡
const grade1semester1 = [
  { id: 'life111', title: '1. ğŸ“¦ ë¬¼ê±´' },
  { id: 'animal111', title: '2. ğŸ¶ ë™ë¬¼' },
  { id: 'food111', title: '3. ğŸ ìŒì‹' },
  { id: 'life112', title: '4. âœï¸ ë¬¼ê±´' },
  { id: 'animal112', title: '5. ğŸ¦ ë™ë¬¼' },
  { id: 'food112', title: '6. ğŸ• ìŒì‹' },
  { id: 'place112', title: '7. ğŸ« ì¥ì†Œ' },
  { id: 'nature112', title: '8. ğŸŒ³ ìì—°' },
  { id: 'life113', title: '9. âš½ ë¬¼ê±´' },
  { id: 'food113', title: '10. ğŸ° ìŒì‹' },
  { id: 'place113', title: '11. ğŸª ì¥ì†Œ' },
  { id: 'job113', title: '12. ğŸ‘¨â€âš•ï¸ ì§ì—…' },
  { id: 'action113', title: '13. ğŸƒ í–‰ë™' },
  { id: 'safe113', title: '14. ğŸ›¡ï¸ ì•ˆì „' },
  { id: 'life114', title: '15. ğŸ® ë¬¼ê±´' },
  { id: 'food114', title: '16. ğŸ² ìŒì‹' },
  { id: 'nature114', title: '17. ğŸŒ¸ ìì—°' },
  { id: 'body114', title: '18. ğŸ‘‹ ì‹ ì²´' },
  { id: 'people114', title: '19. ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ì‚¬ëŒ' },
  { id: 'life115', title: '20. ğŸ¨ ë¬¼ê±´' },
  { id: 'greeting115', title: '21. ğŸ‘‹ ì¸ì‚¬' },
  { id: 'korea115', title: '22. ğŸ‡°ğŸ‡· ìš°ë¦¬ë‚˜ë¼' },
  { id: 'money115', title: '23. ğŸ’° í™”í' },
  { id: 'exploration117', title: '24. ğŸš€ íƒí—˜' },
  { id: 'onomatopoeia117', title: '25. ğŸµ ì˜ì„±ì–´ì˜íƒœì–´' },
  { id: 'safety117', title: '26. ğŸ›¡ï¸ ì•ˆì „' },
  { id: 'korea117', title: '27. ğŸ‡°ğŸ‡· ì• êµ­ê°€' }
];

// 1í•™ë…„ 2í•™ê¸° ë¬¸ì œ ëª©ë¡
const grade1semester2 = [
  { id: 'emotion121', title: '1. ğŸ˜Š ê°ì •' },
  { id: 'cat121', title: '2. í‰ë‚´ë‚´ëŠ” ë§' },
  { id: 'cat122', title: '3. í‰ë‚´ë‚´ëŠ” ë§' },
  { id: 'action121', title: '4. í–‰ë™' }, 
  { id: 'job121', title: '5. ì§ì—…' },
  { id: 'action123', title: '6. í–‰ë™' }  

];

// ë³µìŠµ ê°„ê²© (ì¼)
const REVIEW_INTERVALS = [
  { min: 2, max: 4, recommended: 3 },   // 1ì°¨ -> 2ì°¨
  { min: 6, max: 8, recommended: 7 },   // 2ì°¨ -> 3ì°¨
  { min: 13, max: 15, recommended: 14 }, // 3ì°¨ -> 4ì°¨
  { min: 26, max: 30, recommended: 28 }  // 4ì°¨ -> 5ì°¨
];

function toggleAccordion(header) {
  const content = header.nextElementSibling;
  const isActive = header.classList.contains('active');
  
  // ëª¨ë“  ì•„ì½”ë””ì–¸ ë‹«ê¸°
  document.querySelectorAll('.accordion-header').forEach(h => {
    h.classList.remove('active');
  });
  document.querySelectorAll('.accordion-content').forEach(c => {
    c.classList.remove('active');
  });
  
  // í´ë¦­í•œ ì•„ì½”ë””ì–¸ë§Œ ì—´ê¸° (ì´ë¯¸ ì—´ë ¤ìˆì—ˆìœ¼ë©´ ë‹«íŒ ìƒíƒœ ìœ ì§€)
  if (!isActive) {
    header.classList.add('active');
    content.classList.add('active');
  }
}

function playGame(wordpool, title) {
  const progress = getProgress(wordpool);
  
  // 5íšŒ ì™„ë£Œ í›„ - ì—°ìŠµ ëª¨ë“œë¡œ ê°€ëŠ¥
  if (progress.attempts.length >= 5) {
    const confirm5 = window.confirm('ğŸ† ì´ë¯¸ ì™„ë²½í•˜ê²Œ í•™ìŠµí•œ ë¬¸ì œì…ë‹ˆë‹¤!\n\nì—°ìŠµìš©ìœ¼ë¡œ í’€ ìˆ˜ ìˆì§€ë§Œ ê¸°ë¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nê·¸ë˜ë„ í•˜ì‹œê² ì–´ìš”?');
    if (!confirm5) return;
  }
  // ê¶Œì¥ ì‹œê¸° í™•ì¸ (1~4íšŒì°¨)
  else if (progress.attempts.length > 0) {
    const lastAttempt = progress.attempts[progress.attempts.length - 1];
    const today = new Date().toISOString().split('T')[0];
    const daysSince = getDaysDiff(lastAttempt.date, today);
    const nextReview = getNextReviewDate(lastAttempt.date, progress.attempts.length);
    
    if (nextReview && daysSince < nextReview.minDays) {
      // ê¶Œì¥ ì‹œê¸° ì „ - ì°¨ë‹¨
      const daysLeft = nextReview.minDays - daysSince;
      alert(`â° ì•„ì§ ë³µìŠµ ì‹œê¸°ê°€ ì•„ë‹™ë‹ˆë‹¤!\n\nê¶Œì¥ ë³µìŠµì¼: ${daysLeft}ì¼ í›„\nê°„ê²©ì„ ì§€ì¼œì•¼ íš¨ê³¼ì ìœ¼ë¡œ ê¸°ì–µí•  ìˆ˜ ìˆì–´ìš”.`);
      return;
    }
  }
  
  const gameUrl = 'https://soosooland.com/school/school.html';
  const wordpoolUrl = `https://soosooland.com/school/wordpools/${wordpool}.json`;
  const titleParam = title ? `&title=${encodeURIComponent(title)}` : '';
  location.href = `${gameUrl}?wordpool=${encodeURIComponent(wordpoolUrl)}${titleParam}`;
}

// localStorageì—ì„œ ì§„ë„ ê°€ì ¸ì˜¤ê¸°
function getProgress(wordpoolId) {
  try {
    const allProgress = JSON.parse(localStorage.getItem('moeumschool_progress') || '{}');
    return allProgress[wordpoolId] || { attempts: [] };
  } catch (error) {
    console.error('ì§„ë„ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:', error);
    return { attempts: [] };
  }
}

// ë‚ ì§œ ì°¨ì´ ê³„ì‚° (ì¼ ë‹¨ìœ„)
function getDaysDiff(date1, date2) {
  const d1 = new Date(date1);
  const d2 = new Date(date2);
  const diffTime = d2 - d1;
  const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
  return diffDays;
}

// ë‹¤ìŒ ë³µìŠµì¼ ê³„ì‚°
function getNextReviewDate(lastDate, attemptIndex) {
  // attemptIndexëŠ” í˜„ì¬ ì‹œë„ íšŸìˆ˜ (1íšŒ ì™„ë£Œë©´ 1)
  // REVIEW_INTERVALS[0]ì€ 1ì°¨â†’2ì°¨ ê°„ê²©ì´ë¯€ë¡œ -1 í•„ìš”
  const intervalIndex = attemptIndex - 1;
  
  if (intervalIndex < 0 || intervalIndex >= REVIEW_INTERVALS.length) return null;
  
  const interval = REVIEW_INTERVALS[intervalIndex];
  const lastDateObj = new Date(lastDate);
  const nextDate = new Date(lastDateObj);
  nextDate.setDate(nextDate.getDate() + interval.recommended);
  
  return {
    date: nextDate.toISOString().split('T')[0],
    minDays: interval.min,
    maxDays: interval.max,
    recommended: interval.recommended
  };
}

// ë³µìŠµ ìƒíƒœ í™•ì¸
function getReviewStatus(wordpoolId) {
  const progress = getProgress(wordpoolId);
  if (progress.attempts.length === 0) return 'not-started';
  if (progress.attempts.length >= 5) return 'completed-5';
  
  const lastAttempt = progress.attempts[progress.attempts.length - 1];
  const today = new Date().toISOString().split('T')[0];
  const daysSinceLastAttempt = getDaysDiff(lastAttempt.date, today);
  
  const nextReview = getNextReviewDate(lastAttempt.date, progress.attempts.length);
  if (!nextReview) return `completed-${progress.attempts.length}`;
  
  // ë³µìŠµ ê¸°ê°„ í™•ì¸
  if (daysSinceLastAttempt >= nextReview.minDays && daysSinceLastAttempt <= nextReview.maxDays) {
    return 'review-today';
  } else if (daysSinceLastAttempt < nextReview.minDays) {
    return `in-progress-${progress.attempts.length}`;
  } else {
    // ê¶Œì¥ ê¸°ê°„ ì§€ë‚¨
    return `review-late-${progress.attempts.length}`;
  }
}

// ë©”ë‹¬ ê°€ì ¸ì˜¤ê¸°
function getMedal(attemptCount) {
  if (attemptCount >= 5) return 'ğŸ†';
  if (attemptCount >= 4) return 'ğŸ¥‡';
  if (attemptCount >= 3) return 'ğŸ¥ˆ';
  if (attemptCount >= 2) return 'ğŸ¥‰';
  return '';
}

// ì§„ë„ ë°•ìŠ¤ ìƒì„±
function createProgressBoxes(wordpoolId) {
  const progress = getProgress(wordpoolId);
  const today = new Date().toISOString().split('T')[0];
  const boxes = [];
  
  for (let i = 0; i < 5; i++) {
    const attempt = progress.attempts[i];
    let boxClass = 'progress-box';
    let content = '';
    
    if (attempt) {
      boxClass += ' completed';
      const date = attempt.date.substring(5); // MM-DDë§Œ í‘œì‹œ
      content = date;
    } else if (i === progress.attempts.length) {
      // ë‹¤ìŒ ë³µìŠµí•  ì¹¸
      if (progress.attempts.length === 0) {
        // ì•„ì§ í•œ ë²ˆë„ ì•ˆ í‘¼ ê²½ìš° - ì²« ë²ˆì§¸ ì¹¸ ì´ˆë¡ìƒ‰
        boxClass += ' review-soon';
        content = 'ì‹œì‘';
      } else {
        // ë³µìŠµ ì‹œê¸° í™•ì¸
        const lastAttempt = progress.attempts[progress.attempts.length - 1];
        const nextReview = getNextReviewDate(lastAttempt.date, i);
        if (nextReview) {
          const daysSince = getDaysDiff(lastAttempt.date, today);
          if (daysSince >= nextReview.minDays && daysSince <= nextReview.maxDays) {
            boxClass += ' review-soon';
            content = 'â°';
          }
        }
      }
    }
    
    boxes.push(`<div class="${boxClass}">${content}</div>`);
  }
  
  return boxes.join('');
}

// 1í•™ë…„ 1í•™ê¸° ë²„íŠ¼ ìƒì„±
function renderGrade1Semester1() {
  const container = document.getElementById('grade1-1-buttons');
  let html = '';
  
  grade1semester1.forEach(item => {
    const progress = getProgress(item.id);
    const status = getReviewStatus(item.id);
    const medal = getMedal(progress.attempts.length);
    
    let buttonClass = 'game-button';
    if (status === 'review-today') {
      buttonClass += ' review-today';
    } else if (status.startsWith('completed')) {
      const count = parseInt(status.split('-')[1]);
      buttonClass += ` completed-${count}`;
    }
    
    html += `
      <div class="game-item">
        <button class="${buttonClass}" onclick="playGame('${item.id}', '${item.title}')">
          ${medal ? `<span class="medal">${medal}</span>` : ''}${item.title}
        </button>
        <div class="progress-boxes">
          ${createProgressBoxes(item.id)}
        </div>
      </div>
    `;
  });
  
  container.innerHTML = html;
}

// 1í•™ë…„ 2í•™ê¸° ë²„íŠ¼ ìƒì„±
function renderGrade1Semester2() {
  const container = document.getElementById('grade1-2-buttons');
  let html = '';
  
  grade1semester2.forEach(item => {
    const progress = getProgress(item.id);
    const status = getReviewStatus(item.id);
    const medal = getMedal(progress.attempts.length);
    
    let buttonClass = 'game-button';
    if (status === 'review-today') {
      buttonClass += ' review-today';
    } else if (status.startsWith('completed')) {
      const count = parseInt(status.split('-')[1]);
      buttonClass += ` completed-${count}`;
    }
    
    html += `
      <div class="game-item">
        <button class="${buttonClass}" onclick="playGame('${item.id}', '${item.title}')">
          ${medal ? `<span class="medal">${medal}</span>` : ''}${item.title}
        </button>
        <div class="progress-boxes">
          ${createProgressBoxes(item.id)}
        </div>
      </div>
    `;
  });
  
  container.innerHTML = html;
}

// í†µê³„ ì—…ë°ì´íŠ¸
function updateStats() {
  let masterCount = 0;
  let goldCount = 0;
  let silverCount = 0;
  let bronzeCount = 0;
  let inProgressCount = 0;
  let reviewTodayCount = 0;
  
  // 1í•™ë…„ 1í•™ê¸° í†µê³„
  grade1semester1.forEach(item => {
    const progress = getProgress(item.id);
    const attemptCount = progress.attempts.length;
    const status = getReviewStatus(item.id);
    
    if (attemptCount >= 5) masterCount++;
    else if (attemptCount === 4) goldCount++;
    else if (attemptCount === 3) silverCount++;
    else if (attemptCount === 2) bronzeCount++;
    else if (attemptCount === 1) inProgressCount++;
    
    if (status === 'review-today') reviewTodayCount++;
  });
  
  // 1í•™ë…„ 2í•™ê¸° í†µê³„ ì¶”ê°€
  grade1semester2.forEach(item => {
    const progress = getProgress(item.id);
    const attemptCount = progress.attempts.length;
    const status = getReviewStatus(item.id);
    
    if (attemptCount >= 5) masterCount++;
    else if (attemptCount === 4) goldCount++;
    else if (attemptCount === 3) silverCount++;
    else if (attemptCount === 2) bronzeCount++;
    else if (attemptCount === 1) inProgressCount++;
    
    if (status === 'review-today') reviewTodayCount++;
  });
  
  document.getElementById('masterCount').textContent = masterCount;
  document.getElementById('goldCount').textContent = goldCount;
  document.getElementById('silverCount').textContent = silverCount;
  document.getElementById('bronzeCount').textContent = bronzeCount;
  document.getElementById('inProgressCount').textContent = inProgressCount;
  document.getElementById('reviewTodayCount').textContent = reviewTodayCount;
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
window.addEventListener('load', () => {
  renderGrade1Semester1();
  renderGrade1Semester2();
  updateStats();
});
</script>

</body>
</html>
